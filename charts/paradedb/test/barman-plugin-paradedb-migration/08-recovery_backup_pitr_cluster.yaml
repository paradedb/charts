type: paradedb
mode: recovery

cluster:
  instances: 2
  storage:
    size: 256Mi

recovery:
  method: plugin
  pluginConfiguration:
    name: barman-cloud.cloudnative-pg.io
  barmanObjectStore:
    provider: s3
    endpointURL: "https://minio.minio.svc.cluster.local"
    endpointCA:
      name: kube-root-ca.crt
      key: ca.crt
    wal:
      encryption: ""
    data:
      encryption: ""
    s3:
      bucket: "mybucket"
      path: "/barman-plugin-paradedb-migration/v1"
      accessKey: "minio"
      secretKey: "minio123"
      region: "local"
  retentionPolicy: "30d"
  scheduledBackups: []

backups:
  enabled: true
  provider: s3
  endpointURL: "https://minio.minio.svc.cluster.local"
  endpointCA:
    name: kube-root-ca.crt
    key: ca.crt
  wal:
    encryption: ""
  data:
    encryption: ""
  s3:
    bucket: "mybucket"
    path: "/barman-plugin-paradedb-migration/v2"
    accessKey: "minio"
    secretKey: "minio123"
    region: "local"
  scheduledBackups: []
  retentionPolicy: "30d"
